## Objective

The objective of this repo/project is to begin working with Jenkins as a CI/CD tool for deploying an angular application.  

## Setup
This project used a docker image of jenkins to avoid clutter on my local machine.  Setup was as follows:

1. Docker Config
- Set up docker machine
```sh 
docker-machine create new_machine
eval $(docker-machine env new_machine)
docker-machine active # should return new_machine as active machine
```

- Create a named `volume` to store Jenkins container logs.  Why?  Docker containers do have a small write layer, but this layer is not persisted if the container is removed.  The named volume mounts a docker-managed portion of the host docker-machine's filesystem to the specified filepath in a container.  The Jenkin's filesystem exists at `/var/jenkins_home` within the container, so you will make that your volume target.

```sh
docker volume create foo_bar
```

- run latest instance of jenkins as a container within your new docker machine keeping in mind:
  1. You will want a <b>volume</b> to enable the storage of logs generated by your Jenkins container.  
  2. The Jenkins docker image is configured to listen on port 8080, so you will need to map your host machine's ports accordingly.
  3.  Probably a good idea to run this in the background unless you wish to explore 

```sh
docker run -d --name my_jenkins -p 8080:8080 -v foo:/var/jenkins_home
```

<b>-d:</b> run container asbackground process that will not communicate with your current shell <br>
<b>--name my_jenkins:</b> create unique name for docker container for easy referene<br>
<b>-p 8080:8080:</b>  map host machine port 8080 to docker container port 8080,<br>
<b>-v foo:/var/jenkins_home:</b>  mount the previoulsy-created named volume foo to the jenkins directory within the container<br>


At this point you can verify that the Jenkins container is running with the following command:

```sh
docker ps
```

2)  Initial docker server configuration  
In the browser, combine the IP of the docker-machine that is hosting the Jenkins container with the port that you mapped from the docker-machine to the Jenkins container and you should see the Jenkins server portal.

`xxx.xxx.xx.xxx:8080`

You will need to set up an admin account for your Jenkins server the first time you try to login.  Jenkins creates an admin key during the image build process.  This key can be found in one of two ways:
1) Perusing the container build output logs in your console
2) Entering the container's filesystem and locating the secret keyfile as follows:

```sh
docker exec -it my_jenkins /bin/bash
cd /var/jenkins_home
cat secret.key
```

Once you have been authorized as an admin, you can create an account with a username and password.

3)  Download the nodejs Jenkins plugin.  
Jenkins does not offer a nodejs driver on the build server out of the box.  This plugin allows provisioning of specific node drivers and global npm package installations.  
The plugin docs can be found [here](https://wiki.jenkins.io/display/JENKINS/NodeJS+Plugin).  

4)  Create the Jenkins job
- you can start with a freestyle project for a basic build
- 






